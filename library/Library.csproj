<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\packages\EntityFramework.6.4.4\build\EntityFramework.props" Condition="Exists('..\packages\EntityFramework.6.4.4\build\EntityFramework.props')" />
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>8.0.30703</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{408EFC7E-C6B0-4160-8628-2679E34385CE}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>PkmnFoundations</RootNamespace>
    <AssemblyName>PkmnFoundations.Library</AssemblyName>
    <TargetFramework>net462</TargetFramework>
    <FileAlignment>512</FileAlignment>
    <TargetFrameworkProfile />
    <NuGetPackageImportStamp>21c4ccbf</NuGetPackageImportStamp>
    <TargetFrameworkVersion>v4.6.2</TargetFrameworkVersion>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
    <PlatformTarget>AnyCPU</PlatformTarget>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data.SQLite.Linq">
      <HintPath>..\packages\System.Data.SQLite.Linq.1.0.118.0\lib\net46\System.Data.SQLite.Linq.dll</HintPath>
    </Reference>
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="System.Data" />
    <Reference Include="System.Xml" />
    <Reference Include="EntityFramework">
      <HintPath>..\packages\EntityFramework.6.4.4\lib\net45\EntityFramework.dll</HintPath>
    </Reference>
    <Reference Include="EntityFramework.SqlServer">
      <HintPath>..\packages\EntityFramework.6.4.4\lib\net45\EntityFramework.SqlServer.dll</HintPath>
    </Reference>
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="BouncyCastle.Crypto">
      <HintPath>..\packages\Portable.BouncyCastle.1.9.0\lib\net40\BouncyCastle.Crypto.dll</HintPath>
    </Reference>
    <Reference Include="System.Data.SQLite">
      <HintPath>..\packages\Stub.System.Data.SQLite.Core.NetFramework.1.0.118.0\lib\net46\System.Data.SQLite.dll</HintPath>
    </Reference>
    <Reference Include="System.Buffers">
      <HintPath>..\packages\System.Buffers.4.5.1\lib\net461\System.Buffers.dll</HintPath>
    </Reference>
    <Reference Include="mscorlib" />
    <Reference Include="System.Data.SQLite.EF6">
      <HintPath>..\packages\System.Data.SQLite.EF6.1.0.118.0\lib\net46\System.Data.SQLite.EF6.dll</HintPath>
    </Reference>
    <Reference Include="System.Numerics.Vectors">
      <HintPath>..\packages\System.Numerics.Vectors.4.5.0\lib\net46\System.Numerics.Vectors.dll</HintPath>
    </Reference>
    <Reference Include="System.Numerics" />
    <Reference Include="System.Runtime.CompilerServices.Unsafe">
      <HintPath>..\packages\System.Runtime.CompilerServices.Unsafe.6.0.0\lib\net461\System.Runtime.CompilerServices.Unsafe.dll</HintPath>
    </Reference>
    <Reference Include="System.Memory">
      <HintPath>..\packages\System.Memory.4.5.5\lib\net461\System.Memory.dll</HintPath>
    </Reference>
    <Reference Include="Google.Protobuf">
      <HintPath>..\packages\Google.Protobuf.3.23.3\lib\net45\Google.Protobuf.dll</HintPath>
    </Reference>
    <Reference Include="K4os.Compression.LZ4">
      <HintPath>..\packages\K4os.Compression.LZ4.1.3.5\lib\net462\K4os.Compression.LZ4.dll</HintPath>
    </Reference>
    <Reference Include="K4os.Hash.xxHash">
      <HintPath>..\packages\K4os.Hash.xxHash.1.0.8\lib\net462\K4os.Hash.xxHash.dll</HintPath>
    </Reference>
    <Reference Include="System.Threading.Tasks.Extensions">
      <HintPath>..\packages\System.Threading.Tasks.Extensions.4.5.4\lib\net461\System.Threading.Tasks.Extensions.dll</HintPath>
    </Reference>
    <Reference Include="System.IO.Pipelines">
      <HintPath>..\packages\System.IO.Pipelines.7.0.0\lib\net462\System.IO.Pipelines.dll</HintPath>
    </Reference>
    <Reference Include="K4os.Compression.LZ4.Streams">
      <HintPath>..\packages\K4os.Compression.LZ4.Streams.1.3.5\lib\net462\K4os.Compression.LZ4.Streams.dll</HintPath>
    </Reference>
    <Reference Include="MySql.Data">
      <HintPath>..\packages\MySql.Data.8.0.33\lib\net462\MySql.Data.dll</HintPath>
    </Reference>
    <Reference Include="System.Management" />
    <Reference Include="System.Transactions" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="Data\Database.cs" />
    <Compile Include="Data\DatabaseExtender.cs" />
    <Compile Include="Data\DataMysql.cs" />
    <Compile Include="Data\DataSqlite.cs" />
    <Compile Include="Data\MySqlDatabaseExtender.cs" />
    <Compile Include="Data\SqlDatabaseExtender.cs" />
    <Compile Include="Pokedex\Ability.cs" />
    <Compile Include="Pokedex\Evolution.cs" />
    <Compile Include="Pokedex\FormAbilities.cs" />
    <Compile Include="Pokedex\FormStats.cs" />
    <Compile Include="Pokedex\Item.cs" />
    <Compile Include="Pokedex\Location.cs" />
    <Compile Include="Pokedex\Move.cs" />
    <Compile Include="Pokedex\Pokedex.cs" />
    <Compile Include="Pokedex\PokedexRecordBase.cs" />
    <Compile Include="Pokedex\Region.cs" />
    <Compile Include="Pokedex\Ribbon.cs" />
    <Compile Include="Pokedex\Species.cs" />
    <Compile Include="Pokedex\Family.cs" />
    <Compile Include="Pokedex\Form.cs" />
    <Compile Include="Pokedex\Type.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Wfc\BanStatus.cs" />
    <Compile Include="Wfc\BattleSubwayPokemon5.cs" />
    <Compile Include="Wfc\BattleSubwayProfile5.cs" />
    <Compile Include="Wfc\BattleSubwayRecord5.cs" />
    <Compile Include="Wfc\BattleTowerPokemon4.cs" />
    <Compile Include="Wfc\BattleTowerPokemonBase.cs" />
    <Compile Include="Wfc\BattleTowerProfileBase.cs" />
    <Compile Include="Wfc\BattleTowerRecord4.cs" />
    <Compile Include="Wfc\BattleTowerProfile4.cs" />
    <Compile Include="Wfc\BattleTowerRecordBase.cs" />
    <Compile Include="Wfc\BattleVideoHeader4.cs" />
    <Compile Include="Wfc\BattleVideoHeader5.cs" />
    <Compile Include="Wfc\BattleVideoRecord4.cs" />
    <Compile Include="Wfc\BattleVideoRecord5.cs" />
    <Compile Include="Support\BinarySerializableBase.cs" />
    <Compile Include="Wfc\BoxRecord4.cs" />
    <Compile Include="Structures\ByteStatValues.cs" />
    <Compile Include="Structures\ContestStatValues.cs" />
    <Compile Include="Wfc\DressupRecord4.cs" />
    <Compile Include="Structures\Format.cs" />
    <Compile Include="Wfc\GtsRecord5.cs" />
    <Compile Include="Structures\Enums.cs" />
    <Compile Include="Wfc\GtsRecord4.cs" />
    <Compile Include="Wfc\GtsRecordBase.cs" />
    <Compile Include="Structures\IvStatValues.cs" />
    <Compile Include="Structures\MoveSlot.cs" />
    <Compile Include="Wfc\MusicalRecord5.cs" />
    <Compile Include="Structures\Pokemon4.cs" />
    <Compile Include="Structures\Pokemon5.cs" />
    <Compile Include="Structures\PokemonBase.cs" />
    <Compile Include="Structures\IntStatValues.cs" />
    <Compile Include="Structures\PokemonParty4.cs" />
    <Compile Include="Structures\PokemonParty5.cs" />
    <Compile Include="Structures\PokemonPartyBase.cs" />
    <Compile Include="Structures\StatValues.cs" />
    <Compile Include="Structures\StatValuesBase.cs" />
    <Compile Include="Structures\TrainerMemo.cs" />
    <Compile Include="Wfc\TrainerProfile4.cs" />
    <Compile Include="Wfc\TrainerProfile5.cs" />
    <Compile Include="Wfc\TrainerProfileBase.cs" />
    <Compile Include="Wfc\TrainerProfilePlaza.cs" />
    <Compile Include="Wfc\TrainerRankings.cs" />
    <Compile Include="Support\AssertHelper.cs" />
    <Compile Include="Support\EncodedString4.cs" />
    <Compile Include="Support\EncodedString5.cs" />
    <Compile Include="Support\EncodedStringBase.cs" />
    <Compile Include="Support\EnumerableExtender.cs" />
    <Compile Include="Support\GameSyncUtils.cs" />
    <Compile Include="Support\Indexer1d.cs" />
    <Compile Include="Support\LazyKeyValuePair.cs" />
    <Compile Include="Support\LocalizedString.cs" />
    <Compile Include="Support\LogHelper.cs" />
    <Compile Include="Support\StreamExtender.cs" />
    <Compile Include="Support\StringHelper.cs" />
    <Compile Include="Support\TrendyPhrase4.cs" />
    <Compile Include="Support\TrendyPhrase5.cs" />
    <Compile Include="Support\TrendyPhraseBase.cs" />
    <Compile Include="Support\ValidationSummary.cs" />
  </ItemGroup>
  <ItemGroup>
    <None Include="App.config" />
    <None Include="packages.config" />
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
  <Import Project="..\packages\EntityFramework.6.4.4\build\EntityFramework.targets" Condition="Exists('..\packages\EntityFramework.6.4.4\build\EntityFramework.targets')" />
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Use NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="$([MSBuild]::IsOsPlatform(Windows)) AND !Exists('..\packages\Stub.System.Data.SQLite.Core.NetFramework.1.0.118.0\build\net46\Stub.System.Data.SQLite.Core.NetFramework.targets')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Stub.System.Data.SQLite.Core.NetFramework.1.0.118.0\build\net46\Stub.System.Data.SQLite.Core.NetFramework.targets'))" />
    <Error Condition="$([MSBuild]::IsOsPlatform(Linux)) AND !Exists('..\packages\Stub.System.Data.SQLite.Core.NetStandard.1.0.118.0\lib\netstandard2.0\System.Data.SQLite.dll')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Stub.System.Data.SQLite.Core.NetStandard.1.0.118.0\lib\netstandard2.0\System.Data.SQLite.dll'))" />
    <Error Condition="$([MSBuild]::IsOsPlatform(OSX)) AND !Exists('..\packages\Stub.System.Data.SQLite.Core.NetStandard.1.0.118.0\lib\netstandard2.0\System.Data.SQLite.dll')" Text="$([System.String]::Format('$(ErrorText)', '..\packages\Stub.System.Data.SQLite.Core.NetStandard.1.0.118.0\lib\netstandard2.0\System.Data.SQLite.dll'))" />
  </Target>
  <!-- The target below is a hack...

       The purpose of it is to copy the correct SQLite.Interop.dll for a given OS (Linux / OSX) to the project output directory.
       (Because MonoDevelop cannot target netstandard2.0 without creating link errors between the netstandard, ASP.NET, and Mysql.Data assemblies.)

       It can be removed once all of the projects have been converted to work the dotnet SDK from Microsoft.
       (Or Veekun / Someone else decides to start providing mysql dumps of the database.
        In which case, we can remove the SQLite dep entirely. Which causes nothing but problems with it's native code binary. :) )
  -->
  <Target Name="FixSQLiteInteropFilesOnLinuxAndOSX" Condition="$([MSBuild]::IsOsPlatform(Linux)) OR $([MSBuild]::IsOsPlatform(OSX))" BeforeTargets="CopySQLiteInteropFiles">
    <PropertyGroup>
      <NewSqliteOpFiles>@(SQLiteInteropFiles->Replace('NetFramework', 'NetStandard')->Replace('/SQLite.Interop.dll', '/native/SQLite.Interop.dll'))</NewSqliteOpFiles>
      <NewSqliteOpFiles Condition="$([MSBuild]::IsOsPlatform(Linux))">$(NewSqliteOpFiles.Replace('build/net46/', 'runtimes/linux-'))</NewSqliteOpFiles>
      <NewSqliteOpFiles Condition="$([MSBuild]::IsOsPlatform(OSX))">$(NewSqliteOpFiles.Replace('build/net46/', 'runtimes/osx-'))</NewSqliteOpFiles>
    </PropertyGroup>
    <ItemGroup>
      <SQLiteInteropFiles Remove="@(SQLiteInteropFiles)" />
      <SQLiteInteropFiles Include="$(NewSqliteOpFiles.Split(';'))" />
      <SQLiteInteropFiles Remove="%(SQLiteInteropFiles.Identity)" Condition="!Exists(%(SQLiteInteropFiles.Identity))" />
    </ItemGroup>
    <Error Condition="'@(SQLiteInteropFiles->Count())' == 0" Text="Could not locate the SQLite.Interop.dll(s). Please ensure they are installed at [$(NewSqliteOpFiles)]." />
  </Target>
  <Import Project="..\packages\Stub.System.Data.SQLite.Core.NetFramework.1.0.118.0\build\net46\Stub.System.Data.SQLite.Core.NetFramework.targets" Condition="Exists('..\packages\Stub.System.Data.SQLite.Core.NetFramework.1.0.118.0\build\net46\Stub.System.Data.SQLite.Core.NetFramework.targets')" />
</Project>
